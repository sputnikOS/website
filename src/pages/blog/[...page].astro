---
// Type definitions
interface BlogPost {
  data: {
    title: string;
    heroImage?: string;
    description?: string;
    badge?: string;
    tags?: string[];
    pubDate: Date;
  };
  slug: string;
}

interface PageUrl {
  prev?: string;
  next?: string;
}

interface Props {
  page: {
    data: BlogPost[];
    url: PageUrl;
  };
}

import BaseLayout from "../../layouts/BaseLayout.astro";
import HorizontalCard from "../../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import createSlug from "../../lib/createSlug"

export async function getStaticPaths({ paginate }) {
  const posts = await getCollection("blog");
  posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
  return paginate(posts, { pageSize: 10 });
}

const { page } = Astro.props as Props;
---